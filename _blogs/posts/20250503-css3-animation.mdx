---
title: "è½»æ¾æŒæ¡åŸç”ŸCSS3åŠ¨ç”»"
publishedAt: "2025-05-03"
summary: "ä»transformï¼ˆå˜æ¢ï¼‰åˆ°transitionï¼ˆè¿‡æ¸¡ï¼‰å’Œ animationï¼ˆåŠ¨ç”»ï¼‰ã€‚"
tags: ["web", "best practices", "CSS", "Animation"]
image: "/images/blogs/0503_css_animation/css_animation_blog_image-0503.svg"
---

åœ¨ CSS3 ä¸­ï¼Œ`transform`ã€`transition` å’Œ `animation` æ˜¯ä¸‰ä¸ªéå¸¸é‡è¦çš„åŠ¨ç”»ç›¸å…³å±æ€§ï¼Œå®ƒä»¬å„è‡ªæœ‰ä¸åŒçš„ç”¨é€”ï¼Œä½†ç»å¸¸é…åˆä½¿ç”¨ã€‚è®©æˆ‘ä»¬æ¥è¯¦ç»†äº†è§£å®ƒä»¬ï¼š

# ä¸€ã€Transformï¼ˆå˜æ¢ï¼‰

`transform` ç”¨äºå¯¹å…ƒç´ è¿›è¡Œ 2D æˆ– 3D å˜æ¢ï¼Œå®ƒæœ¬èº«å¹¶ä¸ä¼šäº§ç”ŸåŠ¨ç”»æ•ˆæœï¼Œåªæ˜¯å®šä¹‰å…ƒç´ çš„æœ€ç»ˆçŠ¶æ€ã€‚

```css
.box {
  /* 2D å˜æ¢ */
  transform: translate(100px, 100px); /* ä½ç§» */
  transform: rotate(45deg); /* æ—‹è½¬ */
  transform: scale(1.5); /* ç¼©æ”¾ */
  transform: skew(20deg); /* å€¾æ–œ */

  /* 3D å˜æ¢ */
  transform: translate3d(100px, 100px, 100px);
  transform: rotateX(45deg);
  transform: perspective(1000px);
}
```

## Transform å˜æ¢çš„ 4 å¤§å…³é”®åŠŸèƒ½ï¼š

### 1. translate()

```css
div {
  transform: translate(100px, 100px);
}
```

æ•ˆæœï¼šè¯¥å˜æ¢å°†å…ƒç´ åœ¨ X å’Œ Y æ–¹å‘ä¸Šç§»åŠ¨ 100 ä¸ªåƒç´ ã€‚

![translate å˜æ¢æ•ˆæœ](/images/blogs/0503_css_animation/css3_translate_example.svg)

### 2. skew()

```css
div {
  transform: skew(20deg);
}
```

æ•ˆæœï¼šå…ƒç´ å€¾æ–œ 20 åº¦ã€‚

skew æœ‰ä¸‰ç§å‡½æ•°ï¼š `skewX`, `skewY` å’Œ `skew`

```jsx
.box:nth-child(1) {transform: skewX(15deg);}
.box:nth-child(2) {transform: skewX(30deg);}
.box:nth-child(3) {transform: skewX(45deg);}
.box:nth-child(4) {transform: skewY(15deg);}
.box:nth-child(5) {transform: skewY(30deg);}
.box:nth-child(6) {transform: skewY(45deg);}
.box:nth-child(7) {transform: skew(15deg,10deg);}
.box:nth-child(8) {transform: skew(30deg,20deg);}
.box:nth-child(9) {transform: skew(45deg,30deg);}
```

æ•ˆæœå¦‚ä¸‹ï¼š

![translate å˜æ¢æ•ˆæœ](/images/blogs/0503_css_animation/css3_skew_example.png)

### 3. rotate()

rotate æ˜¯å”¯ä¸€ä¸€ä¸ªä»…æ¥æ”¶ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œåªéœ€è¦åŠ ä¸Šæ—‹è½¬çš„è§’åº¦å³å¯ã€‚

å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦æ”¹å˜å­—çš„æ–¹å‘ï¼Œå¯ä»¥æ—‹è½¬ 90 åº¦ï¼Œæˆ–è€… 270 åº¦ã€‚

```jsx
.box:nth-child(1) {transform: rotate(15deg);}
.box:nth-child(2) { transform: rotate(90deg);}
.box:nth-child(3) { transform: rotate(270deg);}
```

æ•ˆæœå¦‚ä¸‹ï¼š
![translate å˜æ¢æ•ˆæœ](/images/blogs/0503_css_animation/css3_rotate_example.png)

### 4. scale()

scale å‡½æ•°ç”¨äºå…ƒç´ çš„æ”¾å¤§ç¼©å°ï¼Œæœ‰ä¸‰ä¸ªå‡½æ•° scaleX, scaleY, å’Œ scale

```jsx
.box:nth-child(2) {transform: scaleX(0.7);}
.box:nth-child(3) {transform: scaleY(0.7);}
.box:nth-child(4) {transform: scale(0.7);}
```

æ•ˆæœå¦‚ä¸‹ï¼š
![translate å˜æ¢æ•ˆæœ](/images/blogs/0503_css_animation/css3_scale_example.png)

### 5. å¿…é¡»è¦äº†è§£çš„ Transform Origin

Transform-origin å®šä¹‰äº†å…ƒç´ å˜å½¢çš„åŸç‚¹æˆ–åŸºå‡†ç‚¹ã€‚è¿™æ˜¯ CSS å˜å½¢(Transform)æ“ä½œä¸­çš„ä¸€ä¸ªé‡è¦å±æ€§ï¼Œå®ƒå†³å®šäº†å…ƒç´ åœ¨è¿›è¡Œæ—‹è½¬ã€ç¼©æ”¾æˆ–å€¾æ–œç­‰å˜å½¢æ—¶çš„å‚è€ƒç‚¹ä½ç½®ã€‚

- å¯ä»¥ä½¿ç”¨å…³é”®è¯ï¼štop, bottom, left, right, center
- å¯ä»¥ä½¿ç”¨ç™¾åˆ†æ¯”ï¼š0%, 50%, 100%ç­‰
- å¯ä»¥ä½¿ç”¨å…·ä½“çš„é•¿åº¦å€¼ï¼š20px, 5em ç­‰

```jsx
.box:nth-child(2) {
  transform: rotate(45deg);
}

.box:nth-child(3) {
  transform-origin: 50% 50%;
  transform: rotate(45deg);
}

.box:nth-child(4) {
  transform-origin: left top;
  transform: rotate(10deg);
}
```

æ•ˆæœå¦‚ä¸‹ï¼Œçº¢ç‚¹ä¸ºå…ƒç´ å˜å½¢çš„åŸç‚¹æˆ–åŸºå‡†ç‚¹ï¼ˆç¬¬ä¸€ä¸ªæ­£æ–¹å½¢æ·»åŠ  transformï¼Œçº¢ç‚¹ä»…ä¸ºä½ç½®å‚è€ƒç‚¹ï¼‰

å¯ä»¥çœ‹åˆ°ï¼šé»˜è®¤æƒ…å†µä¸‹ï¼Œ**transform-origin çš„å€¼æ˜¯å…ƒç´ çš„ä¸­å¿ƒç‚¹(50% 50%æˆ– center center)ï¼Œä½†æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®ä¸åŒçš„å€¼æ¥æ”¹å˜è¿™ä¸ªå‚è€ƒç‚¹ã€‚**

![translate å˜æ¢æ•ˆæœ](/images/blogs/0503_css_animation/css3_tranform-origin_example.png)

### 6. åˆå¹¶ transforms

æˆ‘ä»¬å¯ä»¥æŠŠå‰é¢å­¦åˆ°çš„æ‰€æœ‰æŒ‡ä»¤ï¼Œå…¨éƒ¨æ”¾åˆ° transform åé¢ï¼Œå¹¶ç”¨ç©ºæ ¼é—´éš”ï¼Œå¦‚ä¸‹é¢æ‰€ç¤ºï¼š

```css
div {
  height: 100px;
  width: 100px;
  transform: translate(80px, 80px) scale(1.5, 1.5) rotate(45deg);
}
```

ä½ å¯ä»¥æƒ³è±¡å‡ºä¸Šé¢çš„ CSS å˜å½¢æ•ˆæœå—ï¼Ÿ

å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ è§†è§‰æ•ˆæœå°±å¥½åƒ div å…ƒç´ å‘å·¦ä¸‹æ–¹å¹³ç§»äº† 80pxï¼Œç„¶åæ”¾å¤§äº† 150%ï¼Œæœ€åæ—‹è½¬äº† 45Â°ã€‚

![translate å˜æ¢æ•ˆæœ](/images/blogs/0503_css_animation/compound_transform.svg)

# äºŒã€Transitionï¼ˆè¿‡æ¸¡ï¼‰

## 1. Transition çš„ 4 å¤§åŸºæœ¬å±æ€§

Transition æ˜¯ CSS æä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œç”¨äºåœ¨å…ƒç´ çš„ä¸åŒçŠ¶æ€ï¼ˆå¦‚æ‚¬åœã€ç‚¹å‡»ã€èšç„¦ç­‰ï¼‰ä¹‹é—´åˆ›å»ºå¹³æ»‘çš„å±æ€§å€¼å˜åŒ–è¿‡ç¨‹ã€‚å®ƒå®šä¹‰äº†å±æ€§å¦‚ä½•éšæ—¶é—´ä»ä¸€ä¸ªå€¼è¿‡æ¸¡åˆ°å¦ä¸€ä¸ªå€¼ï¼Œä½¿ç½‘é¡µä¸Šçš„è§†è§‰å˜åŒ–æ›´åŠ è‡ªç„¶æµç•…ã€‚

ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„å…¸å‹ä¾‹å­ï¼Œå½“æˆ‘ä»¬æŠŠé¼ æ ‡ç§»åˆ° a æ ‡ç­¾åï¼Œa æ ‡ç­¾ä¼šé©¬ä¸Šä¼šä»åº•è‰²ä¸ºé»„è‰²çš„é»‘ä½“å­—ï¼Œå˜ä¸ºåº•è‰²è“è‰²çš„ç™½ä½“å­—ã€‚

```css
a {
  background-color: yellow;
  color: black;
}

a:hover {
  background-color: blue;
  color: white;
}
```

<div className="transition-demo">
  <a className="button1" href="#">
    Hover me
  </a>
</div>

<style>
  {`
.transition-demo {
  margin: 20px 0;
}

.button1 {
  display: inline-block;
  padding: 10px 20px;
  background-color: yellow;
  color: black;
  text-decoration: none;
}

.button1:hover {
  background-color: blue;
  color: white;
}
`}
</style>

è¿™é‡Œæˆ‘ä»¬å°±å¯ä»¥æŠŠ a æ ‡ç­¾å¹³æ—¶çš„æ ·å­ç†è§£ä¸º"èµ·å§‹æ€"ï¼Œè€Œé¼ æ ‡æ‚¬åœçš„æ ·å­ç†è§£ä¸º"ç›®æ ‡æ€"ã€‚

è¿™ä¸¤ä¸ªçŠ¶æ€ä¹‹é—´å°±å­˜åœ¨ä¸€ä¸ªè½¬åŒ– transtionï¼Œåªä¸è¿‡å½“å‰çš„è¿‡æ¸¡æ•ˆæœå¾ˆç”Ÿç¡¬ï¼Œè¿™æ—¶é€šè¿‡è®¾ç½® transtion ä¸­å±æ€§å°±å¯ä»¥æ”¹å˜è¿™ä¸ªè¿‡æ¸¡ï¼Œè®©å˜åŒ–æ›´åŠ å¹³æ»‘ã€‚

åœ¨ CSS3 ä¸­ï¼Œæ§åˆ¶è¿‡æ¸¡æ•ˆæœï¼Œ é€šå¸¸éœ€è¦è®¾ç½® transition çš„å››ä¸ªåŸºæœ¬å±æ€§ï¼š

- transition-propertyï¼šæŒ‡å®šè¦è¿‡æ¸¡çš„ CSS å±æ€§åç§°ï¼ˆå¦‚ widthã€colorã€transform ç­‰ï¼‰ã€‚å¯ä»¥ä½¿ç”¨"all"æ¥è¿‡æ¸¡æ‰€æœ‰å‘ç”Ÿå˜åŒ–çš„å±æ€§ã€‚
- transition-durationï¼šæŒ‡å®šè¿‡æ¸¡æ•ˆæœæŒç»­çš„æ—¶é—´ï¼ˆå¦‚ 0.5s æˆ– 500msï¼‰ã€‚
- transition-timing-functionï¼šæŒ‡å®šè¿‡æ¸¡æ•ˆæœçš„é€Ÿåº¦æ›²çº¿ï¼ˆå¦‚ easeã€linearã€ease-inã€ease-outã€cubic-bezier ç­‰ï¼‰ã€‚
- transition-delayï¼šæŒ‡å®šè¿‡æ¸¡æ•ˆæœå¼€å§‹å‰çš„å»¶è¿Ÿæ—¶é—´ï¼ˆå¦‚ 0.2s æˆ– 200msï¼‰ã€‚

æˆ‘ä»¬å¯ä»¥åœ¨ä¹‹å‰çš„ä»£ç ä¸­åŠ å…¥ä¸‹é¢ transition çš„æ§åˆ¶ï¼Œæ¥å®ç°ä¸€ä¸ªå¹³æ»‘çš„çŠ¶æ€å˜åŒ–ã€‚

```css
a {
  background-color: yellow;
  color: black;
  transition-property: background-color, color; //å®šä¹‰èƒŒæ™¯å’Œå­—è‰²å‘ç”Ÿè¿‡æ¸¡
  transition-duration: 1s; //å®šä¹‰è¿‡æ¸¡æ—¶é—´ä¸º1ç§’
  transition-timing-function: ease; //å®šä¹‰è¿‡æ¸¡çš„è¡Œä¸ºï¼Œåé¢å±•å¼€è®²
  transition-delay: 0.5s; //å®šä¹‰è¿‡æ¸¡åŠ¨ä½œçš„å»¶è¿Ÿå¼€å§‹æ—¶é—´ï¼Œå¯é€‰
}

a:hover {
  background-color: blue;
  color: white;
}
```

<div className="transition-demo">
  <a className="button" href="#">
    Hover me
  </a>
</div>

<style>
  {`
.transition-demo {
  margin: 20px 0;
}

.button {
  display: inline-block;
  padding: 10px 20px;
  background-color: yellow;
  color: black;
  text-decoration: none;
  border-radius: 4px;
  transition: background-color 1s ease 0.5s, color 1s ease 0.5s;
}

.button:hover {
  background-color: blue;
  color: white;
}
`}
</style>

æ­¤å¤–ä¸Šé¢çš„å››è¡Œä»£ç å¯ä»¥ç”¨ä¸€è¡Œ transition ç®€å†™ï¼š

`transition: <property> <duration> <timing-function> <delay>`

éœ€è¦æ³¨æ„çš„æ˜¯å½“ property æœ‰å¤šä¸ªæ—¶ï¼Œéœ€è¦ä¸ºæ¯ä¸ª property è®¾ç½®å•ç‹¬çš„è¿‡æ¸¡æ—¶é—´ï¼Œè¿‡æ¸¡è¡Œä¸ºå’Œè¿‡æ¸¡å»¶è¿Ÿï¼Œä¸­é—´ç”¨"ï¼Œ"é—´éš”å¼€ã€‚

```css
a {
  background-color: yellow;
  color: black;
  transition: background-color 1s ease 0.5s, color 1s ease 0.5s;
}

a:hover {
  background-color: blue;
  color: white;
}
```

### â€¼ï¸ æ³¨æ„äº‹é¡¹

âœ… éœ€è¦æ³¨æ„çš„æ˜¯ï¼šæˆ‘ä»¬éœ€è¦æŠŠ transition å®šä¹‰åœ¨åˆå§‹æ€ a ä¸­ï¼Œè€Œä¸æ˜¯ç›®æ ‡æ€ a:hover ä¸­ã€‚

âŒ é”™è¯¯/æ— æ•ˆåšæ³•ï¼ˆåªå†™åœ¨ç›®æ ‡æ€ï¼‰ï¼š

```css
a {
  background-color: yellow;
  color: black;
}

a:hover {
  background-color: blue;
  color: white;
  transition: background-color 1s ease, color 1s ease; /* å†™åœ¨ç›®æ ‡æ€ä¸­ï¼Œæ— æ³•è¾¾åˆ°é¢„æœŸæ•ˆæœ */
}
```

å› ä¸º CSS åŠ¨ç”»æ˜¯ä»å½“å‰çŠ¶æ€è¿‡æ¸¡åˆ°ç›®æ ‡çŠ¶æ€çš„ï¼Œæµè§ˆå™¨éœ€è¦åœ¨å…ƒç´ çŠ¶æ€å˜åŒ–å‰å°±çŸ¥é“å“ªäº›å±æ€§è¦è¿‡æ¸¡ã€æ€ä¹ˆè¿‡æ¸¡ã€‚æ‰€ä»¥ä½ å¿…é¡»åœ¨çŠ¶æ€æ”¹å˜ä¹‹å‰ï¼ˆä¹Ÿå°±æ˜¯åˆå§‹çŠ¶æ€ï¼‰å£°æ˜ transitionã€‚

### âœ… èµ·å§‹æ€å’Œç›®æ ‡æ€éƒ½åŠ  transition ä¹Ÿæ˜¯ OK çš„

åœ¨è¿™é‡Œä¹Ÿæœ‰å¦å¤–ä¸€ç§å†™æ³•ï¼Œå°±æ˜¯ä¸ç®¡æ˜¯åœ¨èµ·å§‹æ€ï¼Œè¿˜æ˜¯ç›®æ ‡æ€ï¼Œéƒ½åŠ ä¸Š transitionï¼Œå¹¶ä¸”ä¼šäº§ç”Ÿä¸ä¸€æ ·çš„æ•ˆæœï¼Œæ‚¬åœä¸‹é¢çš„ç¤ºä¾‹ï¼Œçœ‹çœ‹æ˜¯å¦å’Œä½ çš„é¢„æœŸä¸€è‡´ï¼Ÿ

```css
a {
  background-color: yellow;
  color: black;
  transition: 5s;
}

a:hover {
  background-color: blue;
  color: white;
  transition: 1s;
}
```

<div className="transition-demo2">
  <a className="button" href="#">
    Hover me
  </a>
</div>

<style>
  {`
.transition-demo2 {
  margin: 20px 0;
}

.button {
  display: inline-block;
  padding: 10px 20px;
  background-color: yellow;
  color: black;
  text-decoration: none;
  border-radius: 4px;
  transition: 5s
}

.button:hover {
  background-color: blue;
  color: white;
  transition: 1s;
}
`}
</style>

## 2. æ§åˆ¶è¿‡æ¸¡-è´å¡å°”å‡½æ•°

åœ¨ Transition ä¸­å­˜åœ¨ä¸€ä¸ª`transition-timing-function`çš„å±æ€§ï¼Œå¯ä»¥å–å€¼ä¸ºï¼š

- ease
- linear
- ease-in
- ease-out
- ease-in-out
- cubic-bezier(x,y,x,y)

é€šè¿‡å°†`transition-timing-function`è®¾ç½®ä¸ºä¸åŒçš„å€¼ï¼Œå°±å¯ä»¥è·å¾—ä¸åŒçš„è¿‡æ¸¡æ•ˆæœæˆ–è¡Œä¸ºã€‚

å»ºè®®é¦–å…ˆè¦ç†è§£ cubic-bezier æ›²çº¿ï¼Œ [ç‚¹å‡»é“¾æ¥](https://cubic-bezier.com/)è¿›ä¸€æ­¥äº†è§£ï¼š

cubic-bezier(x1, y1, x2, y2) æ˜¯ä¸€ä¸ªå®šä¹‰ ä¸‰æ¬¡è´å¡å°”æ›²çº¿ï¼ˆcubic BÃ©zier curveï¼‰çš„å‡½æ•°ï¼Œç”¨æ¥æè¿°ä»åŠ¨ç”»å¼€å§‹åˆ°ç»“æŸè¿‡ç¨‹ä¸­é€Ÿåº¦å¦‚ä½•å˜åŒ–ã€‚

- x1, x2ï¼šå¿…é¡»åœ¨ [0, 1] èŒƒå›´å†…ï¼Œè¡¨ç¤ºæ—¶é—´è½´ä¸Šçš„æ§åˆ¶ç‚¹ã€‚

- y1, y2ï¼šå¯ä»¥å¤§äº 1 æˆ–å°äº 0ï¼Œè¡¨ç¤ºåŠ¨ç”»è¿›åº¦å€¼çš„å˜åŒ–ã€‚

è´å¡å°”æ›²çº¿çš„èµ·ç‚¹æ˜¯ (0,0)ï¼Œç»ˆç‚¹æ˜¯ (1,1)ï¼Œä¸­é—´é€šè¿‡ä¸¤ä¸ªæ§åˆ¶ç‚¹ (x1, y1) å’Œ (x2, y2) æ§åˆ¶æ›²çº¿å½¢çŠ¶ã€‚

![css3_cubic-bezier](/images/blogs/0503_css_animation/css3_cubic-bezier_function.png)

åœ¨ transition ä¸­é¢„å®šä¹‰çš„ 5 ä¸ªå€¼ï¼š easeï¼Œlinear, ease-in, ease-out, ease-in-out å®é™…ä¸Šæ˜¯è¿™ä¸ªå‡½æ•°çš„ç‰¹æ®Šå–å€¼ï¼Œåˆ†åˆ«ä»£è¡¨äº†ä¸åŒçš„è¿‡æ¸¡æ•ˆæœã€‚

| ç¼“åŠ¨å‡½æ•°å    | ç­‰ä»· cubic-bezier å€¼               | è¯´æ˜                         |
| ------------- | ---------------------------------- | ---------------------------- |
| `linear`      | `cubic-bezier(0, 0, 1, 1)`         | åŒ€é€ŸåŠ¨ç”»                     |
| `ease`        | `cubic-bezier(0.25, 0.1, 0.25, 1)` | é»˜è®¤çš„ç¼“åŠ¨å‡½æ•°ï¼Œå…ˆæ…¢åå¿«å†æ…¢ |
| `ease-in`     | `cubic-bezier(0.42, 0, 1, 1)`      | åŠ é€Ÿè¿›å…¥åŠ¨ç”»                 |
| `ease-out`    | `cubic-bezier(0, 0, 0.58, 1)`      | å‡é€Ÿé€€å‡ºåŠ¨ç”»                 |
| `ease-in-out` | `cubic-bezier(0.42, 0, 0.58, 1)`   | å…ˆæ…¢ â†’ åŠ é€Ÿ â†’ å†æ…¢           |

![css3_cubic-bezier](/images/blogs/0503_css_animation/css3_cubic-bezier.png)

å‡ ç§ä¸åŒ timing-function çš„å¯¹æ¯”ï¼š

<div className="bezier-demo">
  <div className="box-wrapper">
    <div className="box linear" />
    <div className="label">linear</div>
  </div>
  <div className="box-wrapper">
    <div className="box ease" />
    <div className="label">ease</div>
  </div>
  <div className="box-wrapper">
    <div className="box ease-in" />
    <div className="label">ease-in</div>
  </div>
  <div className="box-wrapper">
    <div className="box ease-out" />
    <div className="label">ease-out</div>
  </div>
  <div className="box-wrapper">
    <div className="box ease-in-out" />
    <div className="label">ease-in-out</div>
  </div>

{" "}

<style>
  {`
    .bezier-demo {
      display: flex;
      gap: 1rem;
      margin-top: 1rem;
      flex-wrap: wrap;
    }

    .box-wrapper {
      width: 300px;
      text-align: center;
    }

    .box {
      width: 60px;
      height: 60px;
      background-color: #4A90E2;
      transition: transform 1.5s;
    }

    .label {
      font-size: 12px;
      margin-top: 4px;
    }

    .linear      { transition-timing-function: linear; }
    .ease        { transition-timing-function: ease; }
    .ease-in     { transition-timing-function: ease-in; }
    .ease-out    { transition-timing-function: ease-out; }
    .ease-in-out { transition-timing-function: ease-in-out; }

    .bezier-demo:hover .box {
      transform: translateX(300px);
    }
    `}
</style>

</div>

â‡ï¸ å¦‚æœä¸Šé¢çš„å‡ ç§é¢„å®šå‚æ•°æ— æ³•æ»¡è¶³è¦æ±‚ï¼Œå¯ä»¥ä½¿ç”¨ cubic-bezier è‡ªå®šä¹‰è¿‡æ¸¡ transition è¡Œä¸º

```css
transition-timing-function: cubic-bezier(0.42, 0, 0.58, 1);
```

## 2. æ§åˆ¶è¿‡æ¸¡-step()å‡½æ•°

ğŸ§  steps() æ˜¯ä»€ä¹ˆï¼Ÿ

steps(n, direction) æ˜¯ CSS ä¸­çš„ä¸€ç§ ç¦»æ•£åŠ¨ç”»å‡½æ•°ï¼Œç”¨äºå°†åŠ¨ç”»æ‹†åˆ†ä¸º è‹¥å¹²"è·³è·ƒå¼"é˜¶æ®µï¼Œè€Œä¸æ˜¯è¿ç»­å¹³æ»‘åœ°è¿‡æ¸¡ã€‚å®ƒå¸¸ç”¨äºï¼š

- é€å¸§åŠ¨ç”»ï¼ˆå¦‚å¸§å›¾æ’­æ”¾ï¼‰
- æ–‡å­—é€å­—æ˜¾ç¤º
- æ­¥è¿›å¼ç§»åŠ¨æˆ–é—ªçƒåŠ¨ç”»

å¦‚ï¼š

```css
transition-timing-function: steps(5, start);
```

è¿™é‡Œçš„å‚æ•°ï¼š

- n è¡¨ç¤ºæ€»å…± åˆ†æˆ å‡  æ­¥
- start è¡¨ç¤ºæ¯ä¸€æ­¥çš„åˆ‡æ¢å‘ç”Ÿåœ¨æ¯ä¸ªæ—¶é—´æ®µçš„å¼€å§‹
- endï¼ˆé»˜è®¤å€¼ï¼‰è¡¨ç¤ºæ¯ä¸€æ­¥çš„åˆ‡æ¢å‘ç”Ÿåœ¨æ—¶é—´æ®µçš„ç»“æŸ

<div className="stepbox">
  <div className="step-demo">
  step box(start)
  </div>
  <div className="step-demo">
  step box(end)
  </div>

<style>
  {`
    .stepbox{
      width:400px;
      border:2px grey solid;
      padding:10px;
      border-radius:5px;
      
    }
    .step-demo:nth-child(1) {
      width: 100px;
      height:100px;
      margin:0;
      padding:0;
      background:skyblue;
      transition: 1s steps(5,start);
      text-align:center;
      color:black;
      border-radius:10px;
    }

    .step-demo:nth-child(2) {
      width: 100px;
      height:100px;
      margin:0;
      padding:0;
      background:skyblue;
      transition: 1s steps(5,end);
      text-align:center;
      color:black;
      border-radius:10px;
    }

    .stepbox:hover .step-demo{
      transform: translate(280px, 0);
    }
    `}
</style>

</div>

å†çœ‹ä¸€ä¸ªä¾‹å­ï¼ŒæŠŠé¼ æ ‡ hover åœ¨å›¾åƒä¸Šè§¦å‘ã€‚

<div className="person">
<div className="personwalking"></div>

<style>
  {`
    .personwalking{
        width: 125px;
        height: 150px;
        background: url(/images/blogs/0503_css_animation/sprite.jpg) left;
        transition: 2s steps(16);
    }

    .personwalking:hover {
      background-position: -4000px 0;
    }
  `}
</style>

</div>

æœ¬è´¨ä¸Šæ˜¯æŠŠä¸€å¼ å…·æœ‰ 16 å¸§çš„å›¾ç‰‡ï¼Œåœ¨ 2s ä¸­å†…æŒ‰ç…§ 16 æ­¥è¿›è¡Œè¿‡æ¸¡ã€‚

![å›¾ç‰‡](/images/blogs/0503_css_animation/sprite.jpg)

```css
div {
  width: 125px;
  height: 150px;
  background: url(images/sprite.jpg) left;
  margin: 100px auto 0;
  transition: 2s steps(16);
}

div:hover {
  background-position: -4000px 0;
}
```

# ä¸‰ã€2D åŠ¨æ€æ•ˆæœ

å¥½çš„ï¼Œæˆªè‡³ç›®å‰ä¸ºæ­¢ï¼Œè®©æˆ‘ä»¬å…ˆå‘Šåˆ«ç†è®ºï¼Œè¿›å…¥ä¸€äº›çœŸå®åœºæ™¯çš„åº”ç”¨ã€‚

## 1.ä½¿ç”¨ transition å®ç°ç›¸å†Œå¼€åˆæ•ˆæœ

è¯·æŠŠé¼ æ ‡ç§»åˆ°çƒå½¢ç›¸æ¡†ä¸Šï¼Œå¹¶æ€è€ƒè¿™ä¸ªæ•ˆæœæ˜¯åŸºäºä»€ä¹ˆå®ç°çš„ï¼Ÿ

<div>
    <div className="photo">
      <p id="tree">Trees</p>
    </div>
    <style>
     {`
        .photo {
          width: 295px;
          height: 295px;
          border-radius: 50%;
          text-align: center;
          border: 5px solid #ccc;
          background: url(/images/blogs/0503_css_animation/cover-left.png) -2px -1px no-repeat, 
                      url(/images/blogs/0503_css_animation/cover-right.png) right no-repeat,
                      url(/images/blogs/0503_css_animation/trees.jpg) 0 0 / cover;
          margin: 10px auto;
          box-shadow: 0 0 30px rgba(0, 0, 0, 0.2), 0 0 150px rgba(0, 0, 0, 0.1);
          transition: 1s;
      }

      #tree {
        margin-top: 115px;
        font: bold 0em Arial;
        padding: 5px 0;
        color: #333;
        transition: 1s;
      }

      .photo:hover {
        background-position: -295px -100px, 295px 100px, 0 0;
      }

      .photo:hover #tree {
        font-size: 2rem;
        background: rgba(250, 250, 250, 0.5);
        transition: 1s 0.2s cubic-bezier(0.2, 0.4, 0.4, 2);
      }
     `}
     </style>

</div>

#### å…³é”®å®ç°ï¼š

è¿™é‡Œå·§å¦™çš„ä½¿ç”¨äº† background å±æ€§ï¼Œåœ¨ div çš„ CSS æ ·å¼ä¸­ï¼Œè®¾ç½®äº† 3 å¼ èƒŒæ™¯å›¾ç‰‡ï¼Œ

é€šè¿‡ hover äº‹ä»¶ï¼Œè§¦å‘å›¾ç‰‡ä½ç½®çš„æ”¹å˜ï¼Œç»“åˆ transtion è®¾ç½®æ—¶é—´ï¼Œè¾¾åˆ°å¹³æ»‘è¿‡æ¸¡çš„æ•ˆæœã€‚

```html
html:
<div>
  <p>Trees</p>
</div>
```

```css
//èµ·å§‹æ€
div {
  background: url(cover-left.png) 0 0 no-repeat, //å·¦ä¸Šå®šä½
    url(cover-right.png) right no-repeat,
    //é å³å®šä½
    url(trees.jpg) 0 0 / cover;

  transition: 1s;
}

p {
  font: bold 0em Arial; //å¤§å°ä¸º0

  transition: 1s;
}

//ç›®æ ‡æ€
div:hover {
  background-position: -295px -100px, 295px 100px, 0 0;
}

div:hover p {
  font-size: 2rem;
  background: rgba(250, 250, 250, 0.5);
}
```

## 2.å°† Transform å’Œ Transition ç»“åˆ

ä¸‹é¢æ˜¯ä¸€ä¸ªæŠŠ transform scale å’Œ transition è¿‡æ¸¡ç»“åˆçš„ä¾‹å­ã€‚

æŠŠé¼ æ ‡ç§»åˆ°å›¾ç‰‡ä¸Šï¼Œä¼šå‘ç”Ÿå›¾ç‰‡è¢«æ¿€æ´»å¹¶æ”¾å¤§çš„è¿‡ç¨‹ã€‚

<div className="gallery">
  <ul className="gal">
			<li className="picture">
				<img src="/images/blogs/0503_css_animation/1.jpg" alt="Landscape"/>
			</li>
			<li className="picture">
				<img src="/images/blogs/0503_css_animation/2.jpg" alt="Landscape"/>
		    </li>
			<li className="picture">
				<img src="/images/blogs/0503_css_animation/3.jpg" alt="Landscape"/>
		    </li>
			<li className="picture">
				<img src="/images/blogs/0503_css_animation/4.jpg" alt="Landscape"/>
		    </li>
			<li className="picture">
				<img src="/images/blogs/0503_css_animation/5.jpg" alt="Landscape"/>
		    </li>
			<li className="picture">
				<img src="/images/blogs/0503_css_animation/6.jpg" alt="Landscape"/>
		    </li>
	</ul>
<style>
  {`
        .gallery{
          width: 620px;
		      min-width: 400px;
		      margin: 100px auto;
        }

        .gal{
          display:grid;
          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
          gap:20px;
        }

        .picture:hover{
          z-index: 10;
          filter:sepia(0);
        }


        .picture>img{
          filter: sepia(0.8);
          border: 8px solid white;
          border-bottom-width: 30px;
          box-sizing: border-box;
          transition: 1s;
        }

        .picture:nth-child(1) img{
          transform: translate(-10px, 20px) rotate(-10deg);
        }

        .picture:nth-child(2) img{
          -webkit-transform: translate(-20px, 70px) rotate(10deg);
        }

        .picture:nth-child(3) img{
          -webkit-transform: translate(-40px, 5px) rotate(13deg);
        }

        .picture:nth-child(4) img{
          -webkit-transform: translate(-20px, 20px) rotate(5deg);
        }

        .picture:nth-child(5) img{
          -webkit-transform: translate(-30px, 50px) rotate(-10deg);
        }

        .picture:nth-child(6) img{
         -webkit-transform: translate(-40px) rotate(5deg);
        }

        .picture>img:hover{
          filter:sepia(0);
          box-shadow: 0 0 5px rgba(0, 0, 0, .5), 0 0 15px rgba(0, 0, 0, .7);
    			transform: scale(1.5);
        }

     `}

</style>
</div>

#### å…³é”®å®ç°ï¼š

- html ç»“æ„ï¼šæ— åºåˆ—è¡¨ ulï¼Œå…± 6 ä¸ª li æ ‡ç­¾ï¼Œæ¯ä¸ª li æ ‡ç­¾æœ‰ä¸€ä¸ª img

```html
<div>
  <ul>
    <li><img src="1.png" /></li>
    <li><img src="2.png" /></li>
    <li><img src="3.png" /></li>
    <li><img src="4.png" /></li>
    <li><img src="5.png" /></li>
    <li><img src="6.png" /></li>
  </ul>
</div>
```

- å›¾ç‰‡é™æ€æ’å¸ƒæ—¶ï¼Œä½¿ç”¨äº† transform çš„ translate ä½ç§» å’Œ rotate æ—‹è½¬å‡½æ•°ã€‚

```css
li:nth-child(1) img {
  -webkit-transform: translate(-10px, 20px) rotate(-10deg);
}
...
```

- ç»™æ¯ä¸ªå›¾ç‰‡çš„èµ·å§‹æ€å®šä¹‰ transition:

```css
li > img {
  filter: sepia(0.8); //è€ç…§ç‰‡æ•ˆæœ
  border: 8px solid white;
  border-bottom-width: 30px;
  box-sizing: border-box;
  transition: 1s;
}
```

- ç»™æ¯ä¸ªç…§ç‰‡å®šä¹‰ç›®æ ‡æ€ hover æ•ˆæœï¼š

```css
li:hover {
  filter: sepia(0);
  z-index: 1;
}

li > img:hover {
  filter: sepia(0);
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.5), 0 0 15px rgba(0, 0, 0, 0.7);
  transform: scale(1.5);
}
```

# å››ã€3D åŠ¨æ€æ•ˆæœ

åœ¨å®ç° 3D çš„åŠ¨æ€æ•ˆæœä¹‹å‰ï¼Œå¦‚åŒå‰ä¸¤å¼ ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦å­¦ä¹ å¦‚ä½•å®ç° 3D çš„ Transform,ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚ä½•è®©å›¾ç‰‡é™æ€çœ‹èµ·æ¥å°±æ˜¯ 3D çš„æ¨¡æ ·ï¼Œç„¶åå†åŠ ä¸Š transition æ•ˆæœã€‚

## 1. è®¤è¯† 3D Transform

/_ 3D å˜æ¢çš„ä¸»è¦å±æ€§ _/
transform: rotateX(45deg);
transform: perspective(1000px);
transform: translate3d(100px, 100px, 100px);

# äº”ã€Animation åŠ¨ç”»

CSS åŠ¨ç”»å¯ä»¥ç†è§£ä¸ºæ›´åŠ å¼ºå¤§çš„è¿‡æ¸¡ï¼šæ¯”è¿‡æ¸¡æä¾›äº†æ›´å¤šçš„æ§åˆ¶å’Œçµæ´»æ€§ã€‚å®ƒå¯ä»¥å®šä¹‰å¤šä¸ªå…³é”®å¸§å‚æ•° keyframesï¼Œæ¯ä¸ªå…³é”®å¸§ä»£è¡¨ç‰¹å®šæ—¶é—´çš„ç‰¹å®šåŠ¨ç”»çŠ¶æ€ã€‚åŠ¨ç”»è¿˜å¯ä»¥å¾ªç¯ã€äº¤æ›¿ï¼Œå¹¶å…·æœ‰æ›´å¤æ‚çš„è®¡æ—¶åŠŸèƒ½ã€‚

## 1. CSS åŠ¨ç”»çš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š

- å¤šé‡å…³é”®å¸§ Multiple keyframesï¼šåŠ¨ç”»å¯ä»¥æ‹¥æœ‰å¤šä¸ªå…³é”®å¸§ï¼Œä»è€Œå®ç°æ›´åŠ å¤æ‚å’Œç²¾ç»†çš„åŠ¨ç”»æ•ˆæœã€‚
- æ›´é«˜çš„æ§åˆ¶åº¦ Greater controlï¼šåŠ¨ç”»å…è®¸ç”¨æˆ·åœ¨åŠ¨ç”»çš„æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ›´ç²¾å‡†åœ°æ§åˆ¶å…ƒç´ çš„ä¸­é—´çŠ¶æ€ã€‚
- å¾ªç¯ä¸äº¤æ›¿ Looping and alternatingï¼šåŠ¨ç”»å¯ä»¥æ— é™æ¬¡å¾ªç¯æ’­æ”¾ï¼Œä¹Ÿå¯ä»¥åœ¨æ­£å‘å’Œåå‘æ’­æ”¾ä¹‹é—´äº¤æ›¿è¿›è¡Œã€‚
- ç‹¬ç«‹äºçŠ¶æ€å˜åŒ– Independent of state changesï¼šåŠ¨ç”»èƒ½å¤Ÿç‹¬ç«‹äºçŠ¶æ€å˜åŒ–è€Œè¿è¡Œï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ JavaScript ç¼–ç¨‹æ–¹å¼è§¦å‘ã€‚

## 2. CSS åŠ¨ç”»åœ¨ä»¥ä¸‹å‡ ç§æƒ…å†µå°¤ä¸ºé€‚ç”¨ï¼š

- åˆ›å»ºåŠ è½½æ—‹è½¬å™¨æˆ–è¿›åº¦æ¡ï¼Œä¸ºç”¨æˆ·æä¾›è§†è§‰ä¸Šçš„åé¦ˆï¼Œå±•ç¤ºåŠ è½½è¿‡ç¨‹ã€‚
- æ²¿è·¯å¾„æˆ–è½¨è¿¹åŠ¨æ€åœ°ç§»åŠ¨å…ƒç´ ï¼Œå®ç°æ›´åŠ ä¸°å¯Œçš„è§†è§‰æ•ˆæœã€‚
- æ‰§è¡Œå¤šé˜¶æ®µåŠ¨ç”»ï¼Œé€šè¿‡ä¸åŒæ­¥éª¤æ¥å±•ç¤ºå¤æ‚çš„åŠ¨æ€è¿‡ç¨‹ã€‚
- åˆ¶ä½œç‹¬ç«‹çš„åŠ¨ç”»ï¼Œå³ä½¿æ²¡æœ‰ç”¨æˆ·äº¤äº’ä¹Ÿèƒ½è‡ªè¡Œè¿è¡Œï¼Œä¸ºé¡µé¢å¢æ·»æ´»åŠ›ã€‚

## 3. å¦‚ä½•å®šä¹‰ CSS åŠ¨ç”»

1.  ä½¿ç”¨ `@keyframes` å®šä¹‰åŠ¨ç”»å…³é”®å¸§ï¼š

        ```css
        @keyframes åŠ¨ç”»åç§° {
          0% {
            /* åŠ¨ç”»å¼€å§‹æ—¶çš„æ ·å¼ */
            transform: translateX(0);
          }
          50% {
            /* åŠ¨ç”»ä¸­é—´çŠ¶æ€çš„æ ·å¼ */
            transform: translateX(100px);
          }
          100% {
            /* åŠ¨ç”»ç»“æŸæ—¶çš„æ ·å¼ */
            transform: translateX(0);
          }
        }
        ```

2.  åœ¨ç›®æ ‡å…ƒç´ ä¸Šåº”ç”¨åŠ¨ç”»ï¼š

        ```css
        .ç›®æ ‡å…ƒç´  {
          animation: åŠ¨ç”»åç§° æŒç»­æ—¶é—´ æ—¶é—´å‡½æ•° å»¶è¿Ÿæ—¶é—´ é‡å¤æ¬¡æ•° æ–¹å‘ å¡«å……æ¨¡å¼;
        }
        ```

    ä¾‹å¦‚ï¼š

        ```css
        .box {
          animation: bounce 2s ease-in-out 0.5s infinite alternate;
        }
        ```

3.  åŠ¨ç”»å±æ€§è¯¦è§£ï¼š

- `animation-name`: æŒ‡å®šè¦ä½¿ç”¨çš„å…³é”®å¸§åŠ¨ç”»åç§°
- `animation-duration`: åŠ¨ç”»æŒç»­æ—¶é—´
- `animation-timing-function`: åŠ¨ç”»æ—¶é—´å‡½æ•°
- `animation-delay`: åŠ¨ç”»å»¶è¿Ÿæ—¶é—´
- `animation-iteration-count`: åŠ¨ç”»é‡å¤æ¬¡æ•°
- `animation-direction`: åŠ¨ç”»æ–¹å‘
- `animation-fill-mode`: åŠ¨ç”»å¡«å……æ¨¡å¼
- `animation-play-state`: åŠ¨ç”»æ’­æ”¾çŠ¶æ€

## ä¸‰è€…çš„å…³ç³»

1. **Transform** æ˜¯"åšä»€ä¹ˆ"ï¼š

   - å®šä¹‰å…ƒç´ çš„å˜æ¢æ–¹å¼
   - ä¸äº§ç”ŸåŠ¨ç”»æ•ˆæœ
   - å¯ä»¥ç»„åˆå¤šä¸ªå˜æ¢

2. **Transition** æ˜¯"æ€ä¹ˆåš"ï¼š

   - å®šä¹‰çŠ¶æ€å˜åŒ–çš„è¿‡æ¸¡æ–¹å¼
   - éœ€è¦è§¦å‘æ¡ä»¶ï¼ˆå¦‚ hoverï¼‰
   - é€‚åˆç®€å•çš„çŠ¶æ€å˜åŒ–

3. **Animation** æ˜¯"å®Œæ•´è¿‡ç¨‹"ï¼š
   - å®šä¹‰å®Œæ•´çš„åŠ¨ç”»åºåˆ—
   - å¯ä»¥è‡ªåŠ¨æ’­æ”¾
   - é€‚åˆå¤æ‚çš„åŠ¨ç”»æ•ˆæœ

## ä½¿ç”¨å»ºè®®

1. ç®€å•çŠ¶æ€å˜åŒ–ç”¨ `transition`ï¼š

```css
.button {
  transition: all 0.3s ease;
}
.button:hover {
  transform: scale(1.1);
}
```

2. å¤æ‚åŠ¨ç”»ç”¨ `animation`ï¼š

```css
@keyframes slide {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(0);
  }
}
.slide-in {
  animation: slide 0.5s ease-out;
}
```

3. ç»„åˆä½¿ç”¨ï¼š

```css
.element {
  transform: rotate(45deg);
  transition: transform 0.3s ease;
  animation: pulse 2s infinite;
}
```

## æ€§èƒ½è€ƒè™‘

1. ä¼˜å…ˆä½¿ç”¨ `transform` å’Œ `opacity` è¿›è¡ŒåŠ¨ç”»ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªå±æ€§ä¸ä¼šè§¦å‘é‡æ’
2. é¿å…åŒæ—¶ä½¿ç”¨å¤šä¸ªå¯èƒ½è§¦å‘é‡æ’çš„å±æ€§
3. ä½¿ç”¨ `will-change` æç¤ºæµè§ˆå™¨ä¼˜åŒ–æ€§èƒ½
4. è€ƒè™‘ä½¿ç”¨ `transform3d` æˆ– `translateZ(0)` å¼€å¯ç¡¬ä»¶åŠ é€Ÿ

## æ€»ç»“

- `transform`: å®šä¹‰å˜æ¢æ–¹å¼
- `transition`: å®šä¹‰è¿‡æ¸¡æ•ˆæœ
- `animation`: å®šä¹‰å®Œæ•´åŠ¨ç”»

è¿™ä¸‰ä¸ªå±æ€§å…±åŒæ„æˆäº† CSS3 å¼ºå¤§çš„åŠ¨ç”»ç³»ç»Ÿï¼Œåˆç†ä½¿ç”¨å®ƒä»¬å¯ä»¥åˆ›å»ºå‡ºæµç•…ã€é«˜æ•ˆçš„åŠ¨ç”»æ•ˆæœã€‚
